{"version":3,"sources":["layouts/DockApp/index.js","utils/index.js","apps/system/Clock/eventBus.js","apps/system/ClockSetting/TzEditor.js","layouts/WindowFrame/index.js","apps/system/ClockSetting/index.js","apps/system/Ie/index.js","apps/registry.js","apps/system/StartMenu/StartMenuPopover.js","apps/system/StartMenu/index.js","apps/system/Clock/index.js","apps/system/FullScreenToggle/index.js","core/SystemEventBus.js","core/System.js","layouts/SystemBar/index.js","views/System/index.js","App.js","index.js"],"names":["DockApp","props","state","open","handleClick","bind","handleBlur","handleClose","this","popover","setState","onClick","closeOnBlur","trigger","horizontalAlign","verticalAlign","variant","style","position","display","onBlurCapture","active","React","Component","defaultProps","toggleFullScreen","event","element","document","body","HTMLElement","isFullscreen","webkitIsFullScreen","mozFullScreen","requestFullScreen","webkitRequestFullScreen","mozRequestFullScreen","cancelFullScreen","webkitCancelFullScreen","mozCancelFullScreen","clock","EventEmitter","CONSTANT","triggerTimezoneListUpdate","emit","unbindTimezoneListUpdateHandler","func","off","updateTimezoneList","timezoneList","key","value","localStorage","setItem","JSON","stringify","getTimezoneList","parse","getItem","mappedTimezones","map","label","lag","parseInt","replace","currentTimezoneIdx","findIndex","zone","TzEditor","onSortEnd","oldIndex","newIndex","newTimezone","arrayMove","onSelectChange","selectedTimezone","submitAddTz","timezoneSelections","find","newTimezoneList","handleDelete","index","splice","SortableItem","SortableElement","className","marginRight","marginTop","size","square","fontWeight","transform","SortableList","SortableContainer","items","selectedIndex","onChange","height","width","disabled","length","distance","WindowFrame","handleCloseApp","appid","window","terminateApp","header","content","enableResizing","contentClassName","default","x","y","dragHandleClassName","flexDirection","alignItems","justifyContent","overflow","flexGrow","ClockSetting","appName","defaultLink","hintSelections","IE","handleLinkChange","e","localLink","target","handleSubmitLink","linkStack","hintIdx","link","newStack","resetLink","goback","lastLink","pop","slice","handleIframeLoaded","isIframeLoaded","iframeRef","createRef","placeholder","margin","title","src","frameBorder","onLoad","CATALOG","APP","SETTING","ABOUT","REGISTRY","id","app","catalog","name","StartMenuPopover","handleClickMainlistItem","idx","newMainList","mainList","item","handleClickApplication","launchApp","Object","keys","cat","children","filter","reg","sideList","textDecoration","vertical","StartMenu","Clock","componentWillUnmount","clearInterval","timeout","updateCurrentTime","currentTime","moment","handleClickSetting","handleClickClose","dockAppRef","current","timeFormat","setInterval","on","format","toDate","add","split","join","ref","FullScreenToggle","system","killApp","pid","systemStore","autorun","console","log","runningApps","newApp","runningAppids","includes","App","theApp","defaultDisplayName","push","displayName","isActive","activateApp","i","observable","computed","systemEvt","targetApp","SystemBar","store","top","bottom","System","observer","ResetStyles","createGlobalStyle","reset","theme","themes","SystemStore","addEventListener","ev","preventDefault","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.d6cb2b35.chunk.js","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { List, Button } from 'react95';\r\n\r\nclass DockApp extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      open: false,\r\n    };\r\n\r\n    this.handleClick = this.handleClick.bind(this);\r\n    this.handleBlur = this.handleBlur.bind(this);\r\n    this.handleClose = this.handleClose.bind(this);\r\n  }\r\n\r\n  handleClick() {\r\n    const { popover } = this.props;\r\n    if (popover) {\r\n      const { open } = this.state;\r\n      this.setState({\r\n        open: !open,\r\n      });\r\n    }\r\n\r\n    const { onClick } = this.props;\r\n    onClick();\r\n  }\r\n\r\n  handleClose() {\r\n    this.setState({\r\n      open: false,\r\n    });\r\n  }\r\n\r\n  handleBlur() {\r\n    const { closeOnBlur } = this.props;\r\n    if (!closeOnBlur) {\r\n      return;\r\n    }\r\n    this.handleClose();\r\n  }\r\n\r\n  render() {\r\n    const { open } = this.state;\r\n    const {\r\n      trigger, popover, horizontalAlign, verticalAlign,\r\n      variant,\r\n    } = this.props;\r\n    return (\r\n      <div style={{ position: 'relative', display: 'inline-block' }}>\r\n        {(open && popover) && (\r\n          <List\r\n            horizontalAlign={horizontalAlign}\r\n            verticalAlign={verticalAlign}\r\n          >\r\n            {popover}\r\n          </List>\r\n        )}\r\n        <Button\r\n          onBlurCapture={this.handleBlur}\r\n          onClick={this.handleClick}\r\n          active={open}\r\n          variant={variant}\r\n        >\r\n          {trigger}\r\n        </Button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nDockApp.propTypes = {\r\n  trigger: PropTypes.node,\r\n  popover: PropTypes.node,\r\n  closeOnBlur: PropTypes.bool,\r\n  horizontalAlign: PropTypes.string,\r\n  verticalAlign: PropTypes.string,\r\n  onClick: PropTypes.func,\r\n  variant: PropTypes.string,\r\n};\r\n\r\nDockApp.defaultProps = {\r\n  popover: null,\r\n  closeOnBlur: true,\r\n  trigger: (<span> </span>),\r\n  horizontalAlign: 'right',\r\n  verticalAlign: 'top',\r\n  onClick: () => {},\r\n  variant: 'menu',\r\n};\r\n\r\nexport default DockApp;\r\n","export const toggleFullScreen = (event) => {\r\n  let element = document.body;\r\n\r\n  if (event instanceof HTMLElement) {\r\n    element = event;\r\n  }\r\n\r\n  const isFullscreen = document.webkitIsFullScreen || document.mozFullScreen || false;\r\n\r\n  element.requestFullScreen = element.requestFullScreen\r\n    || element.webkitRequestFullScreen\r\n    || element.mozRequestFullScreen\r\n    || (() => false);\r\n  document.cancelFullScreen = document.cancelFullScreen\r\n    || document.webkitCancelFullScreen\r\n    || document.mozCancelFullScreen\r\n    || (() => false);\r\n\r\n  if (isFullscreen) {\r\n    document.cancelFullScreen();\r\n  } else {\r\n    element.requestFullScreen();\r\n  }\r\n};\r\n\r\nexport const getStorage = (key) => JSON.parse(localStorage.getItem(key));\r\nexport const setStorage = (key, value) => localStorage.setItem(key, JSON.stringify(value));\r\n\r\nexport const nothing = () => {};\r\n","import { EventEmitter } from 'events';\r\nimport { setStorage, getStorage } from '../../../utils';\r\n\r\nconst clock = new EventEmitter();\r\n\r\nconst CONSTANT = {\r\n  TIMEZONELIST: 'TIMEZONE_LIST',\r\n  TIMEZONELIST_UPDATE: 'TIMEZONELIST_UPDATE',\r\n};\r\n\r\nconst triggerTimezoneListUpdate = () => clock.emit(CONSTANT.TIMEZONELIST_UPDATE);\r\nconst bindTimezoneListUpdateHandler = (func) => clock.on(CONSTANT.TIMEZONELIST_UPDATE, func);\r\nconst unbindTimezoneListUpdateHandler = (func) => clock.off(CONSTANT.TIMEZONELIST_UPDATE, func);\r\n\r\nconst updateTimezoneList = (timezoneList) => setStorage(CONSTANT.TIMEZONELIST, timezoneList);\r\nconst getTimezoneList = () => getStorage(CONSTANT.TIMEZONELIST);\r\n\r\nexport {\r\n  updateTimezoneList,\r\n  getTimezoneList,\r\n  triggerTimezoneListUpdate,\r\n  bindTimezoneListUpdateHandler,\r\n  unbindTimezoneListUpdateHandler,\r\n};\r\n","import React from 'react';\r\nimport {\r\n  Select,\r\n  Fieldset,\r\n  ListItem, Button,\r\n} from 'react95';\r\nimport { SortableContainer, SortableElement } from 'react-sortable-hoc';\r\nimport arrayMove from 'array-move';\r\nimport './index.scss';\r\n\r\nimport { triggerTimezoneListUpdate, getTimezoneList, updateTimezoneList } from '../Clock/eventBus';\r\n\r\nimport allTimezones from './timezones.json';\r\n\r\nconst mappedTimezones = allTimezones.map((key) => ({\r\n  label: key,\r\n  value: key,\r\n  lag: parseInt(key.replace(/^\\(GMT([-+]\\d{2}).*$/, '$1'), 10),\r\n}));\r\n\r\nconst currentTimezoneIdx = mappedTimezones.findIndex((zone) => zone.value === '(GMT+08:00) Asia/Taipei');\r\n\r\nconst MAX_TIMEZONE_COUNT = 5;\r\n\r\nclass TzEditor extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      timezoneSelections: mappedTimezones,\r\n      selectedTimezone: mappedTimezones[currentTimezoneIdx].value,\r\n      timezoneList: getTimezoneList() || [],\r\n    };\r\n  }\r\n\r\n  onSortEnd = ({ oldIndex, newIndex }) => {\r\n    const { timezoneList } = this.state;\r\n    const newTimezone = arrayMove(timezoneList, oldIndex, newIndex);\r\n    updateTimezoneList(newTimezone);\r\n    triggerTimezoneListUpdate();\r\n  }\r\n\r\n  onSelectChange = (value) => {\r\n    this.setState({\r\n      selectedTimezone: value,\r\n    });\r\n  }\r\n\r\n  submitAddTz = () => {\r\n    const { timezoneSelections, selectedTimezone, timezoneList } = this.state;\r\n    const newTimezone = timezoneSelections.find((zone) => zone.value === selectedTimezone);\r\n    const newTimezoneList = [...timezoneList, newTimezone];\r\n    updateTimezoneList(newTimezoneList);\r\n    this.setState({\r\n      timezoneList: newTimezoneList,\r\n    });\r\n    triggerTimezoneListUpdate();\r\n  }\r\n\r\n  handleDelete = (value) => {\r\n    const { timezoneList } = this.state;\r\n    const index = timezoneList.findIndex((zone) => zone.value === value);\r\n    timezoneList.splice(index, 1);\r\n    updateTimezoneList(timezoneList);\r\n    this.setState({\r\n      timezoneList,\r\n    });\r\n    triggerTimezoneListUpdate();\r\n  }\r\n\r\n  render() {\r\n    const { timezoneSelections, timezoneList } = this.state;\r\n    const SortableItem = SortableElement(({ value }) => (\r\n      <ListItem key={value.label}>\r\n        <div className=\"timezone-list-item\">\r\n          <div className=\"label\">{value.label}</div>\r\n          <Button\r\n            onClick={() => this.handleDelete(value.value)}\r\n            style={{ marginRight: '-6px', marginTop: '1px' }}\r\n            size=\"sm\"\r\n            square\r\n          >\r\n            <span style={{ fontWeight: 'bold', transform: 'translateY(-1px)' }}>X</span>\r\n          </Button>\r\n        </div>\r\n      </ListItem>\r\n    ));\r\n    const SortableList = SortableContainer(({ items }) => (\r\n      <ul>\r\n        {items && items.map((value, index) => (\r\n          <SortableItem key={`item-${value.value}`} index={index} value={value} />\r\n        ))}\r\n      </ul>\r\n    ));\r\n    return (\r\n      <div className=\"tz-editor\">\r\n        <Fieldset label=\"ADD A TIMEZONE\">\r\n          <div className=\"tz-add\">\r\n            <Select\r\n              selectedIndex={currentTimezoneIdx}\r\n              items={timezoneSelections}\r\n              onChange={this.onSelectChange}\r\n              height=\"100px\"\r\n              width=\"400px\"\r\n            />\r\n            <Button\r\n              onClick={this.submitAddTz}\r\n              disabled={timezoneList.length >= MAX_TIMEZONE_COUNT}\r\n            >\r\n              <span>ADD</span>\r\n            </Button>\r\n          </div>\r\n        </Fieldset>\r\n        <Fieldset label=\"SELECTED TIMEZONE\">\r\n          <SortableList items={timezoneList} onSortEnd={this.onSortEnd} distance={2} />\r\n        </Fieldset>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TzEditor;\r\n","import React from 'react';\r\nimport {\r\n  Window, WindowHeader, WindowContent,\r\n  Button,\r\n} from 'react95';\r\nimport { Rnd } from 'react-rnd';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass WindowFrame extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n    };\r\n  }\r\n\r\n  handleCloseApp = () => {\r\n    const { appid } = this.props;\r\n    window.terminateApp(appid);\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      header, content, width, height, enableResizing,\r\n      contentClassName,\r\n    } = this.props;\r\n    return (\r\n      <Rnd\r\n        default={{\r\n          x: 0,\r\n          y: 0,\r\n          width,\r\n          height,\r\n        }}\r\n        dragHandleClassName=\"window--header\"\r\n        enableResizing={enableResizing}\r\n      >\r\n        <Window\r\n          style={{\r\n            width: '100%',\r\n            height: '100%',\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n          }}\r\n        >\r\n          <WindowHeader\r\n            className=\"window--header\"\r\n            style={{\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'space-between',\r\n            }}\r\n          >\r\n            {header}\r\n            <Button\r\n              onClick={this.handleCloseApp}\r\n              style={{ marginRight: '-6px', marginTop: '1px' }}\r\n              size=\"sm\"\r\n              square\r\n            >\r\n              <span style={{ fontWeight: 'bold', transform: 'translateY(-1px)' }}>X</span>\r\n            </Button>\r\n          </WindowHeader>\r\n          <WindowContent\r\n            className={contentClassName}\r\n            style={{\r\n              overflow: 'hidden',\r\n              flexGrow: 1,\r\n            }}\r\n          >\r\n            {content}\r\n          </WindowContent>\r\n        </Window>\r\n      </Rnd>\r\n    );\r\n  }\r\n}\r\n\r\nWindowFrame.propTypes = {\r\n  appid: PropTypes.string.isRequired,\r\n  header: PropTypes.node,\r\n  content: PropTypes.node,\r\n  contentClassName: PropTypes.string,\r\n  width: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\r\n  height: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\r\n  enableResizing: PropTypes.bool,\r\n};\r\n\r\nWindowFrame.defaultProps = {\r\n  header: (<span>APPLICATION</span>),\r\n  content: (<div>_BLANK</div>),\r\n  contentClassName: '',\r\n  width: 'auto',\r\n  height: 'auto',\r\n  enableResizing: true,\r\n};\r\n\r\nexport default WindowFrame;\r\n","import React from 'react';\r\nimport TzEditor from './TzEditor';\r\nimport WindowFrame from '../../../layouts/WindowFrame';\r\n\r\nclass ClockSetting extends React.Component {\r\n  appName = 'system.clocksetting'\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const header = (<span>Clock Setting</span>);\r\n    const content = (<TzEditor />);\r\n    return (\r\n      <WindowFrame\r\n        header={header}\r\n        content={content}\r\n        enableResizing={false}\r\n        appid={this.appName}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default ClockSetting;\r\n","import {\r\n  Button, Hourglass, Toolbar, TextField,\r\n  Cutout,\r\n} from 'react95';\r\nimport React from 'react';\r\nimport WindowFrame from '../../../layouts/WindowFrame';\r\n\r\nimport './index.scss';\r\n\r\nconst defaultLink = 'https://www.youtube.com/embed/-UYgORr5Qhg';\r\nconst hintSelections = [\r\n  'DONT YOU HAVE A CHROME???',\r\n  'WHAT??? YOU REALLY DONT HAVE A CHROME???',\r\n  'DO YOU HAVE FIREFOX???',\r\n  'WHEN THE HECK DID YOU GET YOUT COMPUTER???',\r\n  'YOU SHOULD GET A NEW ONE.',\r\n];\r\n\r\nclass IE extends React.Component {\r\n  appName = 'system.ie'\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      link: defaultLink,\r\n      localLink: defaultLink,\r\n      linkStack: [],\r\n      hintIdx: -1,\r\n      isIframeLoaded: false,\r\n    };\r\n\r\n    this.iframeRef = React.createRef();\r\n  }\r\n\r\n  handleLinkChange = (e) => {\r\n    this.setState({\r\n      localLink: e.target.value,\r\n    });\r\n  }\r\n\r\n  handleSubmitLink = () => {\r\n    const {\r\n      localLink, linkStack, hintIdx, link,\r\n    } = this.state;\r\n    let newStack = [];\r\n    if (linkStack.length === 0\r\n      || (linkStack.length > 0 && linkStack[linkStack.length - 1] !== localLink)) {\r\n      newStack = [...linkStack, link];\r\n      this.setState({\r\n        link: localLink,\r\n        linkStack: newStack,\r\n        hintIdx: (hintIdx + 1) % hintSelections.length,\r\n      });\r\n    }\r\n  }\r\n\r\n  resetLink = () => {\r\n    const { link } = this.state;\r\n    this.setState({\r\n      localLink: link,\r\n    });\r\n  }\r\n\r\n  goback = () => {\r\n    const { linkStack } = this.state;\r\n    const lastLink = [...linkStack].pop();\r\n    if (lastLink) {\r\n      this.setState({\r\n        link: lastLink,\r\n        localLink: lastLink,\r\n        linkStack: [...linkStack].slice(0, -1),\r\n      });\r\n    }\r\n  }\r\n\r\n  handleIframeLoaded = () => {\r\n    this.setState({\r\n      isIframeLoaded: true,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      link, localLink, hintIdx, isIframeLoaded, linkStack,\r\n    } = this.state;\r\n    const body = (\r\n      <div className=\"ie-container\">\r\n        <div className=\"header\">\r\n          <Toolbar style={{ justifyContent: 'space-between' }}>\r\n            <Button\r\n              onClick={this.goback}\r\n              disabled={linkStack.length === 0}\r\n            >\r\n              <span>BACK</span>\r\n            </Button>\r\n            <Button\r\n              onClick={this.resetLink}\r\n            >\r\n              <span>F5</span>\r\n            </Button>\r\n            <TextField\r\n              placeholder=\"Search...\"\r\n              style={{ flexGrow: 1, margin: '0 .6rem' }}\r\n              value={localLink}\r\n              onChange={this.handleLinkChange}\r\n            />\r\n            <Button onClick={this.handleSubmitLink}>\r\n              {\r\n                link !== defaultLink || !isIframeLoaded ? (\r\n                  <Hourglass />\r\n                ) : (\r\n                  <span>GO</span>\r\n                )\r\n              }\r\n            </Button>\r\n          </Toolbar>\r\n        </div>\r\n        <div className=\"content\">\r\n          <Cutout style={{ width: '100%', height: '100%' }}>\r\n            {\r\n              link === defaultLink ? (\r\n                <iframe\r\n                  title=\"YOUTUBE\"\r\n                  width=\"100%\"\r\n                  height=\"100%\"\r\n                  src={link}\r\n                  frameBorder=\"0\"\r\n                  onLoad={this.handleIframeLoaded}\r\n                />\r\n              ) : (\r\n                <div\r\n                  style={{\r\n                    height: '100%',\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    justifyContent: 'center',\r\n                  }}\r\n                >\r\n                  <span>{hintSelections[hintIdx]}</span>\r\n                </div>\r\n              )\r\n            }\r\n          </Cutout>\r\n        </div>\r\n      </div>\r\n    );\r\n    return (\r\n      <WindowFrame\r\n        appid={this.appName}\r\n        header={`INTERNET EXPLORER - ${link}`}\r\n        content={body}\r\n        contentClassName=\"ie-content-container\"\r\n        width=\"800px\"\r\n        height=\"600px\"\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default IE;\r\n","import ClockSetting from './system/ClockSetting';\r\nimport IE from './system/Ie/index';\r\n\r\nexport const CATALOG = {\r\n  APP: 'APPS',\r\n  SETTING: 'SETTINGS',\r\n  ABOUT: 'ABOUT',\r\n};\r\n\r\nexport const REGISTRY = [\r\n  {\r\n    id: 'system.clocksetting',\r\n    app: ClockSetting,\r\n    catalog: CATALOG.SETTING,\r\n    name: 'Clock Setting',\r\n  },\r\n  {\r\n    id: 'system.ie',\r\n    app: IE,\r\n    catalog: CATALOG.APP,\r\n    name: 'Internet Explorer',\r\n  },\r\n];\r\n","import React from 'react';\r\nimport { ListItem, Divider } from 'react95';\r\nimport { CATALOG, REGISTRY } from '../../registry';\r\n\r\nclass StartMenuPopover extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const mainList = Object.keys(CATALOG).map((cat, index) => ({\r\n      name: CATALOG[`${cat}`],\r\n      active: index === 0,\r\n      children: REGISTRY.filter((reg) => reg.catalog === CATALOG[`${cat}`])\r\n        .map((app) => ({\r\n          ...app,\r\n        })),\r\n    }));\r\n    this.state = {\r\n      mainList,\r\n    };\r\n  }\r\n\r\n  handleClickMainlistItem = (idx) => {\r\n    const { mainList } = this.state;\r\n    const newMainList = mainList.map((item, index) => ({\r\n      ...item,\r\n      active: index === idx,\r\n    }));\r\n    this.setState({\r\n      mainList: newMainList,\r\n    });\r\n  }\r\n\r\n  handleClickApplication = (app) => {\r\n    window.launchApp(app.id);\r\n  }\r\n\r\n  render() {\r\n    const { mainList } = this.state;\r\n    const sideList = mainList.find((item) => item.active).children || [];\r\n    return (\r\n      <div className=\"startmenu\">\r\n        <div className=\"panel left\">\r\n          {mainList.map((item, index) => (\r\n            <ListItem\r\n              key={`main-${item.name}`}\r\n              onClick={() => this.handleClickMainlistItem(index)}\r\n              style={{ textDecoration: item.active ? 'underline' : 'none' }}\r\n            >\r\n              {item.name}\r\n            </ListItem>\r\n          ))}\r\n        </div>\r\n        <Divider vertical size=\"sm\" style={{ height: '100%' }} />\r\n        <div className=\"panel right\">\r\n          {sideList.map((item) => (\r\n            <ListItem\r\n              key={`side-${item.name}`}\r\n              onClick={() => this.handleClickApplication(item)}\r\n            >\r\n              {item.name}\r\n            </ListItem>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default StartMenuPopover;\r\n","import React from 'react';\r\nimport DockApp from '../../../layouts/DockApp';\r\n\r\nimport StartMenuPopover from './StartMenuPopover';\r\n\r\nimport './index.scss';\r\n\r\nclass StartMenu extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  render() {\r\n    const trigger = (\r\n      <span>START</span>\r\n    );\r\n    const popover = (<StartMenuPopover />);\r\n    return (\r\n      <DockApp\r\n        trigger={trigger}\r\n        popover={popover}\r\n        horizontalAlign=\"left\"\r\n        closeOnBlur={false}\r\n        variant=\"default\"\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default StartMenu;\r\n","import React from 'react';\r\nimport ReactClock from 'react-clock';\r\nimport { Button } from 'react95';\r\nimport moment from 'moment';\r\n\r\nimport DockApp from '../../../layouts/DockApp';\r\n\r\nimport {\r\n  bindTimezoneListUpdateHandler, unbindTimezoneListUpdateHandler,\r\n  getTimezoneList,\r\n} from './eventBus';\r\n\r\nimport './index.scss';\r\n\r\nclass Clock extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      timeFormat: 'HH:mm:ss',\r\n      currentTime: moment(),\r\n      timezoneList: getTimezoneList() || [],\r\n    };\r\n    this.timeout = null;\r\n\r\n    this.dockAppRef = React.createRef();\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.timeout = setInterval(() => {\r\n      this.updateCurrentTime();\r\n    }, 10);\r\n\r\n    bindTimezoneListUpdateHandler(this.updateTimezoneList);\r\n  }\r\n\r\n  componentWillUnmount = () => {\r\n    clearInterval(this.timeout);\r\n    unbindTimezoneListUpdateHandler(this.updateTimezoneList);\r\n  }\r\n\r\n  updateCurrentTime = () => {\r\n    this.setState({\r\n      currentTime: moment(),\r\n    });\r\n  }\r\n\r\n  updateTimezoneList = () => {\r\n    const timezoneList = getTimezoneList();\r\n    this.setState({\r\n      timezoneList,\r\n    });\r\n  }\r\n\r\n  handleClickSetting = () => {\r\n    window.launchApp('system.clocksetting');\r\n  }\r\n\r\n  handleClickClose = () => {\r\n    this.dockAppRef.current.handleClose();\r\n  }\r\n\r\n  render() {\r\n    const { currentTime, timeFormat, timezoneList } = this.state;\r\n    const trigger = (\r\n      <span>{currentTime.format(timeFormat)}</span>\r\n    );\r\n    const popover = (\r\n      <div className=\"clock-popover\">\r\n        <div className=\"clock-display\">\r\n          <div className=\"one-clock\">\r\n            <ReactClock value={currentTime.toDate()} />\r\n            <div className=\"desc\">LOCAL TIME</div>\r\n          </div>\r\n          {\r\n            timezoneList.map(({ lag, label }) => (\r\n              <div\r\n                key={`display-clock-${label}`}\r\n                className=\"one-clock\"\r\n              >\r\n                <ReactClock value={currentTime.add(lag, 'h').toDate()} />\r\n                <div className=\"desc\">{label.split(' ').join('\\n')}</div>\r\n              </div>\r\n            ))\r\n          }\r\n        </div>\r\n        <div className=\"panel\">\r\n          <Button onClick={this.handleClickSetting}>SETTING</Button>\r\n          <Button onClick={this.handleClickClose}>X</Button>\r\n        </div>\r\n      </div>\r\n    );\r\n    return (\r\n      <DockApp\r\n        trigger={trigger}\r\n        popover={popover}\r\n        closeOnBlur={false}\r\n        ref={this.dockAppRef}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default Clock;\r\n","import React from 'react';\r\nimport { MdFullscreen } from 'react-icons/md';\r\nimport DockApp from '../../../layouts/DockApp';\r\n\r\nimport { toggleFullScreen } from '../../../utils/index';\r\n\r\nconst trigger = (\r\n  <span><MdFullscreen /></span>\r\n);\r\n\r\nconst FullScreenToggle = () => (\r\n  <DockApp trigger={trigger} onClick={toggleFullScreen} />\r\n);\r\n\r\nexport default FullScreenToggle;\r\n","import { EventEmitter } from 'events';\r\n\r\nconst system = new EventEmitter();\r\n\r\nwindow.launchApp = (appid) => system.emit('launch', appid);\r\nwindow.terminateApp = (appid) => system.emit('terminate', appid);\r\nwindow.killApp = (pid) => system.emit('kill', pid);\r\n\r\nexport default system;\r\n","import React from 'react';\r\nimport { observable, autorun, computed } from 'mobx';\r\n\r\nimport systemEvt from './SystemEventBus';\r\nimport { REGISTRY } from '../apps/registry';\r\n\r\nexport class SystemStore {\r\n  appid = 0\r\n\r\n  @observable runningApps = []\r\n\r\n  @computed get runningAppids() {\r\n    return this.runningApps.map((app) => app.id);\r\n  }\r\n\r\n  constructor() {\r\n    autorun(() => console.log('system'));\r\n  }\r\n\r\n  launchApp(newApp) {\r\n    const appid = newApp.id;\r\n    if (this.runningAppids.includes(appid)) return -1;\r\n\r\n    this.appid += 1;\r\n    const App = newApp.app;\r\n    const theApp = <App key={this.appid} />;\r\n    const defaultDisplayName = newApp.name || 'UNKNOWN APP';\r\n    this.runningApps.push({\r\n      id: appid,\r\n      displayName: defaultDisplayName,\r\n      app: theApp,\r\n      pid: this.appid,\r\n      isActive: true,\r\n    });\r\n\r\n    this.activateApp(appid);\r\n\r\n    return this.appid;\r\n  }\r\n\r\n  activateApp(appid) {\r\n    for (let i = 0; i < this.runningApps.length; i += 1) {\r\n      this.runningApps[i].isActive = appid === this.runningApps[i].id;\r\n    }\r\n  }\r\n\r\n  terminateApp(appid) {\r\n    this.runningApps = this.runningApps.filter((app) => app.id !== appid);\r\n  }\r\n\r\n  killApp(pid) {\r\n    this.runningApps = this.runningApps.filter((app) => app.pid !== pid);\r\n  }\r\n}\r\n\r\nconst systemStore = new SystemStore();\r\n\r\nsystemEvt.on('launch', (appid) => {\r\n  const targetApp = REGISTRY.find((app) => app.id.split('#')[0] === appid);\r\n  if (!targetApp) return;\r\n  console.log(systemStore.launchApp(targetApp));\r\n});\r\n\r\nsystemEvt.on('terminate', (appid) => {\r\n  systemStore.terminateApp(appid);\r\n});\r\n\r\nsystemEvt.on('kill', (pid) => {\r\n  systemStore.killApp(pid);\r\n});\r\n\r\nexport default systemStore;\r\n","import React from 'react';\r\nimport {\r\n  AppBar, Toolbar, Divider, Button,\r\n} from 'react95';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport StartMenu from '../../apps/system/StartMenu';\r\nimport ClockApp from '../../apps/system/Clock';\r\nimport FullScreenToggle from '../../apps/system/FullScreenToggle';\r\n\r\nimport { SystemStore } from '../../core/System';\r\n\r\nimport './index.scss';\r\n\r\nclass SystemBar extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n    };\r\n  }\r\n\r\n  handleClick = (appid) => {\r\n    const { store } = this.props;\r\n    store.activateApp(appid);\r\n  }\r\n\r\n  render() {\r\n    const { store } = this.props;\r\n    return (\r\n      <AppBar style={{ top: 'auto', bottom: 0 }}>\r\n        <Toolbar>\r\n          <div>\r\n            <StartMenu />\r\n          </div>\r\n          <div className=\"running-apps\">\r\n            {store.runningApps.map((app) => (\r\n              <Button\r\n                key={`runningapp-${app.id}`}\r\n                className=\"app-docker\"\r\n                onClick={() => this.handleClick(app.id)}\r\n                active={app.isActive}\r\n              >\r\n                {app.displayName}\r\n              </Button>\r\n            ))}\r\n          </div>\r\n          <div className=\"widgets\">\r\n            <Divider vertical style={{ margin: '6px 0', height: 'auto' }} />\r\n            <FullScreenToggle />\r\n            <ClockApp />\r\n          </div>\r\n        </Toolbar>\r\n      </AppBar>\r\n    );\r\n  }\r\n}\r\n\r\nSystemBar.propTypes = {\r\n  store: PropTypes.instanceOf(SystemStore).isRequired,\r\n};\r\n\r\nexport default SystemBar;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { observer } from 'mobx-react';\r\n\r\nimport SystemBar from '../../layouts/SystemBar';\r\n\r\nimport './index.scss';\r\n\r\n@observer\r\nclass System extends Component {\r\n  render() {\r\n    const { store } = this.props;\r\n    const { runningApps } = store;\r\n    return (\r\n      <div className=\"system-view\">\r\n        <div className=\"desktop\">\r\n          {runningApps.map(({ app }) => app)}\r\n        </div>\r\n        <div className=\"dock\">\r\n          <SystemBar store={store} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nSystem.propTypes = {\r\n  store: PropTypes.shape({\r\n    runningApps: PropTypes.array,\r\n  }),\r\n};\r\n\r\nSystem.defaultProps = {\r\n  store: {\r\n    runningApps: [],\r\n  },\r\n};\r\n\r\nexport default System;\r\n","import React from 'react';\r\nimport { createGlobalStyle, ThemeProvider } from 'styled-components';\r\nimport { reset, themes } from 'react95';\r\n\r\nimport System from './views/System/index';\r\n\r\nimport SystemStore from './core/System';\r\n\r\nimport './App.css';\r\n\r\nconst ResetStyles = createGlobalStyle`\r\n  ${reset}\r\n`;\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <ResetStyles />\r\n      <ThemeProvider theme={themes.default}>\r\n        <System store={SystemStore} />\r\n      </ThemeProvider>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n// import * as serviceWorker from './serviceWorker';\r\n\r\ndocument.addEventListener('contextmenu', (ev) => {\r\n  ev.preventDefault();\r\n  return false;\r\n});\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\n// serviceWorker.unregister();\r\n"],"sourceRoot":""}